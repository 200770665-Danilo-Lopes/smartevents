<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<html xmlns:th="https://www.thymeleaf.org"></html>
<!------ Include the above in your HEAD tag ---------->
<style>
        body {
            /* Set the background image and specify its properties */
            background-image: url('https://tinyurl.com/yc2356m2');
            background-size: cover; /* Cover the entire viewport */
            background-position: center; /* Center the background image */
            background-repeat: no-repeat; /* Do not repeat the background image */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            font-family: Arial, sans-serif; /* Set a default font family */
        }

        /* Your additional styles go here */
    </style>
<link rel="stylesheet" href="styleLogin.css">
<div class="wrapper fadeInDown">
  <div id="formContent">
    <!-- Tabs Titles -->

    <!-- Icon -->
    <div class="fadeIn first">
      <img src="https://logosmarcas.net/wp-content/uploads/2021/07/Jeep-Logo.png" id="icon" alt="User Icon" />
      <h1>SMARTEVENTS</h1>
      <h2 th:text="${msgBemvindo}"></h2>
    </div>

    <!-- Login Form -->
    <form id="formLogin">
      <input type="text" id="login" class="fadeIn second" name="login" placeholder="USUÁRIO">
      <input type="text" id="password" class="fadeIn third" name="login" placeholder="SENHA">
      <input  onclick="realizarLogin()" type="botton" class="btn btn-dark" value="LOGIN">
    
 <script>
    async function realizarLogin() {
        const login = document.getElementById('login').value;
        const password = document.getElementById('password').value;

        const dadosLogin = {
            login: login,
            password: password
        };

        try {
            const resposta = await fetch('/auth/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dadosLogin)
            });

            if (!resposta.ok) {
                throw new Error('Credenciais inválidas');
            }

            // Lidar com a resposta da API (por exemplo, armazenar token JWT)
            const dadosResposta = await resposta.json();
            console.log('Token JWT:', dadosResposta.token);

            // Redirecionar para a página desejada após o login
            window.location.href = '/index';
            localStorage.setItem("usuario",login );
        } catch (erro) {
            document.getElementById('mensagemErro').innerText = erro.message;
        }
    }
</script>
    </form>
    

    <!-- Remind Passowrd -->
    <div id="formFooter">
      <a class="underlineHover" href="#">Esqueceu sua senha?</a>
    </div>

  </div>
  
  		
</div>